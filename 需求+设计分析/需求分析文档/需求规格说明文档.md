# 需求规格说明文档

## 1.范围

### 1.1 标识

系统名称: 四则运算训练

### 1.2 系统概述

该系统在本阶段可以根据用户输入数目自动在生成的1000道题目中筛选出相应的数目进行系显示，用户输入题目答案，并且判断答案是否正确，同时用户有20s的答题时间，超过20s后显示下一题。在最后会为用户提供查看历史记录的功能。

### 1.3 文档概述

本文档阐述了系统的各个模块功能需求，包括用户模块以及系统模块的需求。

## 2.引用文件

胡思康 编著，《软件工程基础》（第3版），清华大学出版社，2012.6。

## 3.需求

### 3.1 需求概述

#### 3.1.1  目标

##### 第一阶段

1.一次允许出1000道题，并且无重复题目，并写入文件中 (任何两道题目不能通过有限次交换+和×左右的算术表达式变换为同一道题目)
2.允许支持多运算符计算，并且支持后续扩展
3.除整数之外，支持真分数的四则运算
4.让程序能接受用户输入答案，并判定对错。 最后给出总共 对/错 的数量
5.以上需求可以用命令行参数的形式指定

##### 第二阶段

第二阶段补充了乘方运算，乘方有"^"和"**"两种表示形式。用户可以自行选择表示形式。

##### 第三阶段

第三阶段我们选择了图形化界面的方向，这一阶段要求实现windows用户界面，每个题目必须在 20 秒钟完成，如果完不成，则得0 分并进入下一题。增加“历史纪录” 功能， 把用户做题的成绩记录下来并可以展现历史记录。

#### 3.1.2  运行环境

本系统运行环境为Windows 10及以上版本，对硬件系统无要求。

#### 3.1.3  用户的特点

本系统适合小学二年级左右使用，同时用户应具有计算机的使用条件

#### 3.1.4  关键点

本系统在于随机生成四则运算题目，并且实现对题目的判重，之后对题目表达式求值
核心模块
1.gen() 随机生成题目模块，通过调用gentree() 产生1000道题目
2.calculate() 计算题目答案，运用栈以及后缀表达式求值的思想进行计算
3.check() 检查题目是否重复，通过判断二叉树是否同构进行实现
4.timekeeper() 计时函数，超过20s后自动显示下一题

#### 3.1.5  约束条件

1. 生成的四则运算表达式最多10个运算符，括号的数量不限制。

### 3.2 需求规格

![活动图](http://114.115.245.158:8000/1120191761/math-generator/-/blob/main/%E9%9C%80%E6%B1%82+%E8%AE%BE%E8%AE%A1%E5%88%86%E6%9E%90/%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E6%96%87%E6%A1%A3/activity_1.png)

### 3.3 软件配置项能力需求

基本功能需求：

- 四则运算表达式生成和查重。
- 将表达式保存在文件中。
- 判断用户答案正误。
- 统计用户答案对/错数量。
- 选择题目数量
- 倒计时功能
- 显示历史记录

### 3.4 软件配置项的外部接口需求

用户接口: windows图形界面。

### 3.5 软件配置项内部接口需求

系统模块：表达式字符串，该表达式的标准答案
用户模块：输入答案的字符串，功能选择键，题目数量，历史记录功能键
文件模块：表达式字符串，时间戳

### 3.6 软件配置项内部数据需求

表达式二叉树存储、后缀表达式存储、答案存储、历史记录存储。

### 3.7 软件配置项的环境需求

64-bit Windows 10。

### 3.8 计算机资源需求

#### 3.8.1  计算机软件需求

操作系统windows 10。

### 3.9 软件质量因素

- 功能性：根据用户输入题目数量对用户显示题目，根据用户选择的乘方模式进行选择，在用户输入答案后显示正确与否，用户有20s的答题时间，超过20s后显示下一题。在用户作答完毕后为用户提供查看历史记录功能。
- 可靠性：每次随机产生的题目不会出现重复。
- 可维护性：允许在需求更新之后拓展运算功能，并且生成题目数量可变更，且在更新软件过程中不对现有软件产生影响。
- 可用性：生成时长低于5s
- 可测试性：每个模块能根据至少10个测试用例确保程序能够正确处理各种情况。

### 3.10  设计和实现的约束

采用面向对象方法，并且按照需求规格说明实现。

### 3.11  数据

系统输入：
  前两阶段：命令行形式：用户通过命令行输入当前题目的做题答案。
  第三阶段：图形化界面：答案输入框、乘方选择键、题目数量输入框、历史记录功能键

系统输出：表达式、用户本次答案是否正确，历史记录
数据管理：正确存储每道题目的答案

### 3.12  操作

用户运行程序，出现开始界面
在用户选择题目数量及乘方功能后，进入答题界面
在规定时间内，用户输入答案，系统提示答案的正确性，然后进入下一题
在1000道题目后，系统显示历史记录功能。

### 3.13  故障处理

对用户的非法输入进行提示性处理，当系统出现严重性错误时，应强行关闭程序

### 3.14  算法说明

利用后缀表达式求值，并且递归打印表达式
在第三阶段，利用QT信号量机制进行信号窗口间传参。

### 3.15  有关人员的需求

小组成员应当熟练掌握c++语言以及QT平台操作。

### 3.16  有关培训的需求

暂无

### 3.17  需求的优先次序和关键程度

功能需求优先级高于性能需求优先级
